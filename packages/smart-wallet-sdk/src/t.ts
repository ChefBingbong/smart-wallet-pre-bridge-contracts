import { decodeFunctionData, erc20Abi, toFunctionHash, toFunctionSelector, toFunctionSignature } from "viem";
import { smartWalletFactoryAbi } from "./abis/SmartWalletFactoryAbi";
import { smartWalletAbi } from "./abis/SmartWalletAbi";
import { getPublicClient } from "./provider/walletClient";

async function main() {
     // try {
     //       // const f = decodeFunctionData({
     //       //       data: "0x72d87c8f000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002c0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000007db8033a94b5f12ff34880d509e782220c2c40d40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4e30fcaad0000000000000000000000000000000000000000000000008ac7230489e80000000000000000000000000000501b55184813f7a29eb98decd8ec9b6d07deb263000000000000000000000000dbf48f5db3d4bd13b9a29052947cb2edd6a2d132000000000000000000000000c39d95f6156b2ecb9977bcc75ca677a80e06c60d000000000000000000000000501b55184813f7a29eb98decd8ec9b6d07deb2630000000000000000000000000000000000000000000000008ac7230489e80000000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000661985ed00000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000041d1e348ffd2708ade547dd0af1ddbde6578fd1be9d26f9045941d6f296d723b35785233c9863769ec70220673edec7699959063cc8441a68395b2c0bfc4137c631b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000061000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000415a9bfd506062b9a860831163b92a2c87a432d19c0ead2dc3d57d3211ae07eedb298a15f2df72c21a6b14c4332cb2d5e9acf6f8e42aa6a7f32b7c2d0a72072f271c00000000000000000000000000000000000000000000000000000000000000",
     //       //       abi: smartWalletAbi,
     //       // });
     //       // console.log(f.args[0]);
     //       // console.log(f.args[1]);
     //       const f = decodeFunctionData({
     //             data: "0x72d87c8f000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002c0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000007db8033a94b5f12ff34880d509e782220c2c40d40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4e30fcaad0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000501b55184813f7a29eb98decd8ec9b6d07deb263000000000000000000000000dbf48f5db3d4bd13b9a29052947cb2edd6a2d132000000000000000000000000c39d95f6156b2ecb9977bcc75ca677a80e06c60d000000000000000000000000501b55184813f7a29eb98decd8ec9b6d07deb2630000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000066198454000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000416dcb1ee4f59b294f9154a655934fc22b10a515dc87036d97de7adf48073e98e66d9b4b64f362da1b016261985ef081fbcefec6640253ec1c74fe747f38c7b2101c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000061000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000410230001e5e60b562a2a1132185acdf0aa590c6792a2b5b405fc87cd6dd8e71363b42bba077faedcbe7d862f538a2db5f5593e73fc8790e7383d023fb5add54411c00000000000000000000000000000000000000000000000000000000000000",
     //             abi: smartWalletAbi,
     //       });
     //       console.log(f.args[0]);
     //       console.log(f.args[1]);
     // } catch (err) {}

     // console.log("heyyyyyy");
     const gasPrice = await getPublicClient({ chainId: 97 }).getGasPrice();

     const sqrtPriceX96 = 131557832500618718723316358044; // Replace this with your actual value

     // Convert sqrtPriceX96 to uint256 and square it
     const price = BigInt(sqrtPriceX96) ** 2n;

     // Multiply by 1e18 and divide by 2^96
     const actualPrice = (price * BigInt(10 ** 18)) / 2n ** 96n;

     console.log(706514391239496501434898664900431974473n / 9156426510377161051779656776686050286487n);
}

main();
